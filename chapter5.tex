\documentclass[dvipdfmx]{jsarticle}

\input{preamble}

\begin{document}
    \begin{problem}
        $V(J) \subseteq B$を閉集合として, $f^\ast(V(J)) = V(f^{-1}(J))$を示す.
        $\mathfrak{p} \in f^{\ast}(V(J))$とすれば, ある$\mathfrak{q} \in V(J)$が存在して,
        \[
            f^{\ast}(\mathfrak{q}) = f^{-1}(\mathfrak{q}) = \mathfrak{p}
        \]
        となる.
        今, $J \subseteq \mathfrak{q}$より, $f^{-1}(J) \subseteq f^{-1}(\mathfrak{q}) = \mathfrak{p}$なので,
        $\mathfrak{p} \in V(f^{-1}(J))$が成り立つ.
        あとは$V(f^{-1}(J)) \subseteq f^{\ast}(V(J))$を示せばよいが,
        これは$f^{\ast}$の制限によって$\Spec{B/J} \to \Spec{A/f^{-1}(J)}$が全射であることと同値である.

        まず, $f$がintegralであることと(5.6)より, $\iota: f(A) \to B$を包含射とすれば,
        $B/J$は$f(A)/\iota^{-1}(J)$上整である.
        また, $f(A)/\iota^{-1}(J) \subseteq B/J$とみれば, (5.10)より,
        \[
            \Spec{B/J} \to \Spec{f(A)/\iota^{-1}(J)}
        \]
        は全射である.
        ここで, $f(A) \cong A/\ker{f}$と$f^{-1}(\iota^{-1}(J)) = f^{-1}(J)$を考えれば,
        \[
            f(A)/\iota^{-1}(J) \cong (A/\ker{f})/(f^{-1}(J)/\ker{f}) \cong A/f^{-1}(J)
        \]
        となるので,
        \[
            \begin{tikzcd}
                A \arrow[r]\arrow[d] & B  \arrow[d] \\
                A/f^{-1}(J) \arrow[r] &  B/J
            \end{tikzcd}
        \]
        が可換であることから,
        \[
            \begin{tikzcd}
                \Spec{B/J} \arrow[r]\arrow[d] & \Spec{A/f^{-1}(J)}   \arrow[d] \\
                \Spec{B} \arrow[r] & \Spec{A}
            \end{tikzcd}
        \]
        も可換であることに注意すれば,
        $f^{\ast}$の制限によって$\Spec{B/J} \to \Spec{A/f^{-1}(J)}$が全射であることが従う.
    \end{problem}

    \begin{problem}
        $\mathfrak{p} = \ker{f}$とする.
        (5.10)より, ある$\mathfrak{q}$が存在して, $\mathfrak{p} = \mathfrak{q} \cap A$が成り立つ.
        このとき,
        \[
            \begin{tikzcd}
                A \arrow[r]\arrow[d] & B  \arrow[d] \\
                A/\mathfrak{p} \arrow[r, "\iota_0"] &  B/\mathfrak{q}
            \end{tikzcd}
        \]
        が可換であり, $\iota_0$が単射なので, $A/\mathfrak{p} \subseteq B/\mathfrak{q}$としてよい.
        (5.6)より, これは整拡大である.
        また, $A/\mathfrak{p}, B/\mathfrak{q}$がともに整域であることから,
        $K(A/\mathfrak{p}) \subseteq K(B/\mathfrak{q})$は代数的拡大になる.
        さらに, $f(A) \cong A/\ker{f}$であることから, $K(f(A)) \subseteq K(B/\mathfrak{q})$とみれば,
        $K(f(A)) \subseteq \Omega$でもあるので, $K(B) \subseteq \Omega$とみなせる.
    \end{problem}

    \begin{problem}
        $D \subseteq B' \otimes_A C$を$(f\otimes_A 1)(B \otimes C)$上整な元の集合とすれば,
        (5.3)より, $B'\otimes_A C$の部分環である.
        また, $B, C$が$A$-代数であることと, $f$が代数準同型であることから,
        $x \otimes y \in B'\otimes_A C$が$(f\otimes_A 1)(B \otimes C)$
        上整であることを示せば, 十分である.
        ここで, $x$は$f(B)$上整なので, $b^n = 1$とすれば, ある$b_i \in B'$が存在して,
        \[
            \sum_{i = 0}^n b_ix^i = 0
        \]
        となる.
        このとき,
        \[
            \sum_{i = 0}^n (b_i \otimes y^{n-i})(x\otimes y) = \sum_{i=0}^n ((b_ix)\otimes y^n) = \qty(\sum_{i = 0}^n b_ix^i)\otimes y^n = 0
        \]
        となるので, $x\otimes y \in B'\otimes_A C$は$B\otimes_A C$上整である.
    \end{problem}

    \begin{problem}
        $A = k[x^2-1], B = k[x], \mathfrak{n} = (x-1)B$とする.
        このとき,
        \[
           \mathfrak{m} =  A \cap (x-1)B = (x^2-1)A
        \]
        となることに注意する.

        $1/(x+1)$が$A_{\mathfrak{m}}$上整と仮定する.
        このとき, $a_0 = 1$となるようなある$a_i \in A$と$s_i \in A \setminus \mathfrak{m}$が存在して,
        \[
            \sum_{i = 0}^n a_is_i(x-1)^i = 0
        \]
        が成り立つ.
        このとき, $s_0 \in (x-1) \cap A = \mathfrak{m}$となるが, これは矛盾.
    \end{problem}

    \begin{problem}
        \begin{enumerate}
            \item  $x$の$B$における逆元を$y \in B$とする.
            $B$は$A$上整なので, $a_i \in A$が存在して,
            \[
                y^n + \cdots + a_{n-1}y + a_n = 0
            \]
            となるが, $n = 1$のときには$y = a_1 \in A$なので, 成り立つ.
            次に, $n-1$のときには, 主張が成り立つと仮定する.
            \[
                -xa_n = y^{n-1} + \cdots + a_{n-1}
            \]
            なので, $a_{n-1}$を$-xa_n$でおきなおせば,
            \[
                y^{n-1} + \cdots + a_{n_1} = 0
            \]
            となる.
            帰納法の仮定より, $y \in A$が成り立つ.
            ゆえに, $x$は$A$においても単元.
            \item (5.10)より, 縮約による全射$\Spec{B} \to \Spec{A}$が存在するが,
            特に縮約による全射$\Max{B} \to \Max{A}$も存在するので, 共通部分の逆像が逆像の共通部分であることから, 主張が成り立つ.
        \end{enumerate}
    \end{problem}

    \begin{problem}
        $f_i: A \to B_i$を環の射とし, $f = (f_1, \dots, f_n): A \to \prod_{i = 1}^n B_i$としたとき,
        $\prod_{i = 1}^n B_i$が$f(A)$上整であることを示す.
        $b = (b_1, \dots, b_n) \in \prod_{i = 1}^n B_i$とする.
        $B/f_i(A)$が整拡大なので,
        任意の$i$に対して, ある$n_i$と$a_{i,j} \in f_i(A)$が存在して,
        \[
            b_i^{n_i} + a_{i,1}b_i^{n_i-1} + \cdots a_{i,n_1} = 0
        \]
        が成り立つ.
        ここで, $n = \max_i{n_i}$として,
        \[
            b_i^{n} + a_{i,1}b_i^{n-1} + \cdots a_{i,n} = 0
        \]
        とみる.
        ただし, $n_i < k \leq n$に対しては, $a_{i,k} = 0$である.
        このとき, $a_j = (a_{1,j}, \dots, a_{n,j}) \in f(A)$とすれば,
        \[
            b^n+ a_1 b^{n-1} + \cdots + a_n = 0
        \]
        となるので, 主著うは成り立つ.
    \end{problem}

    \begin{problem}
        $b \in B$が$A$上整のときに, $b \in A$となることを示せばよい.
        $a_i \in A$として,
        \[
            b^n + a_1b^{n-1} + \cdots + a_n = 0
        \]
        とおく.
        $n = 1$のときには$b = -a_1 \in A$なので成り立つ.
        $n-1$のときに主張が成つと仮定して, $n$の場合を示す.
        \[
            b(b^{n-1} + a_1b^{n-2} + \cdots + a_{n-1}) = -a_n \in A
        \]
        であり,
        $B \setminus A$が積閉であるから, $b \notin A$または
        \[
            b^{n-1} + a_1b^{n-2} + \cdots + a_{n-1} \in A
        \]
        となる.
        しかし, 後者の場合にも$a_{n-1}$を適当におきかえれば, 帰納法の仮定より, $b \in A$が成り立つので,
        主張は成立する.
    \end{problem}

    \begin{problem}
        \begin{enumerate}
            \item $B$が整域であることから, $f,g \in B[X] \subseteq \Quot{B}[X]$であり,
            $fg$の最小分解体$L$が存在する.
            このとき, 体は特に整域であることから, ある$\alpha_i, \beta_i \in L$が存在して,
            \[
                f(x) = (x-\alpha_1)\cdots (x-\alpha_n), \quad \quad g(x) = (x-\beta_1)\cdots (x-\beta_m)
            \]
            が$L[X]$において成り立つ.
            ここで, $fg \in C[X]$より, $\alpha_i, \beta_i$は$C$上整なので, $A$上整である.
            また, 整元の積と和はまた整元なので, $f, g \in C[X]$が成り立つ.
            \item 任意の環に対して, それを係数にもつ多項式の根を少なくとも一つむような拡大環は存在するので,
            これを繰り返すことにより, i)と同様に成り立つ.
        \end{enumerate}
    \end{problem}

    \begin{note}
        $\mathfrak{q} \in \Spec{B}$で$A/A\cap\mathfrak{q} \subseteq B/\mathfrak{q}$とみて～という
        方針では厳しそう。
    \end{note}

    \begin{problem}
        $f \in B[X]$を$A[X]$上整な元としたとき, $f \in C[X]$であることを示せばよい.
        仮定より, ある$g_i \in A[X]$が存在して,
        \[
            f^n + g_1 f^{n-1} + \cdots + g_n = 0
        \]
        となる.
        $r := \max_i(n, \deg{g_i}) + 1$として, $f' = f - x^r$
        とすれば, $\deg{f} = r$であって,
        \[
            (f' + x^r)^n + g_1 (f' + x^r)^{n-1} + \cdots + g_n = 0
        \]
        を満たす.
        これを展開すれば,
        \[
            f'^n + h_1f'^{n-1} + \cdots + h_n = 0
        \]
        となる.
        ただし, $h_n$は$\deg{h_n} = rn$をみたすモニック多項式である.
        このとき, $-f'$はモニックであって,
        \[
            -f'(f'^{n-1} + h_1f'^{n-2} + \cdots + h_{n-1}) = h_n
        \]
        なので, $f'^{n-1} + h_1f'^{n-2} + \cdots + h_{n-1}$もモニック多項式である.
        ここで, $h_n \in A[X] \subseteq C[X]$なので, 5.8より,
        特に$-f' \in C[X]$が成り立つ.
        したがって, $f \in C[X]$である.
        以上より, $C[X]$は$A[X]$の$B[X]$における整閉包である.
    \end{problem}

    \begin{problem}
        \begin{enumerate}
            $f$を分解して, $\iota: f(A) \to B$, $g: A \to f(A)$とする.
            \item \begin{description}
                \item[(a)$\Rightarrow$(b)]
                $\mathfrak{p} \in f(A)$と
                $\mathfrak{q} \in \Spec{B}$を$\mathfrak{q} \cap f(A) = \mathfrak{p}$が成り立つような
                ものとしたとき, $\iota^\ast|_{V(\mathfrak{q})}: V(\mathfrak{q}) \to V(\mathfrak{p})$が全射であることを示せばよい.
                $\mathfrak{p}' \in V(\mathfrak{p}) = V(\iota^{\ast}(\mathfrak{q}))$
                をとる.
                このとき, $\iota^{\ast}(\mathfrak{q}) \subseteq \mathfrak{p}'$なので,
                \[
                    g^\ast\circ \iota^\ast(\mathfrak{q}) = f^\ast(\mathfrak{q}) \subseteq g^\ast(\mathfrak{p}')
                \]
                が成り立つ.
                つまり, $g^\ast(\mathfrak{p'}) \in V(f^\ast(\mathfrak{q}))$である.
                ここで, $f^\ast$が閉であることから,
                \[
                    V(f^\ast(\mathfrak{q})) = f^\ast(V(\mathfrak{q}))
                \]
                が成り立つ.
                これより, ある$\mathfrak{q}' \in V(\mathfrak{q})$が存在して,
                $f^\ast(\mathfrak{q}') = g^\ast(\mathfrak{p}')$となる.
                $g$は全射なので,
                \[
                    \mathfrak{p}' = g(g^{\ast}(\mathfrak{p}')) = g(f^{\ast}(\mathfrak{q}')) = g(g^{-1}(\iota^\ast(\mathfrak{q}')))= \iota^\ast(\mathfrak{q}')
                \]
                となり, $f$は上昇性質をもつ.
                \item[(b)$\Rightarrow$(c)]
                \[
                    \Spec{B/\mathfrak{q}} \to \Spec{f(A)/\iota^{-1}(\mathfrak{q})} \to \Spec{A/f^{-1}(\mathfrak{q})}
                \]
                と分解して考える.
                まず, $\Spec{B/\mathfrak{q}} \to \Spec{f(A)/\iota^{-1}(\mathfrak{q})}$については,
                $f$の上昇性質からすぐに全射であることが従う.
                $\Spec{f(A)/\iota^{-1}(\mathfrak{q})} \to \Spec{A/f^{-1}(\mathfrak{q})}$
                が全射であることを示すには,
                特に$g^\ast|_{V(\iota^{-1}(\mathfrak{q}))}: V(\iota^{-1}(\mathfrak{q})) \to V(f^{-1}(\mathfrak{q}))$
                を示せば十分である.
                ここで, $\mathfrak{p} = \iota^{-1}(\mathfrak{q})$
                とすれば, $g^\ast|_{V(\mathfrak{p})}: V(\mathfrak{p}) \to V(g^{-1}(\mathfrak{p}))$
                であり, $f(A) = A/\ker{f}$なので, 剰余環におけるイデアルの対応関係から, $g^\ast|_{V(\iota^{-1}(\mathfrak{q}))}$
                が全射であることが従う.
                \item[(c)$\Rightarrow$(b)]
                $\iota^\ast: V(\mathfrak{q}) \to V(\iota^{-1}(\mathfrak{q}))$が全射であることを示せば十分である.
                任意の$\mathfrak{p} \in V(\iota^{-1}(\mathfrak{q}))$
                に対して, $g^\ast(\mathfrak{p}) \in V(f^\ast(\mathfrak{q}))$であり,
                仮定より, ある$\mathfrak{p}_0 \in V(\mathfrak{q})$が存在して,
                $f^\ast(\mathfrak{p}_0) = g^\ast(\mathfrak{p})$となる.
                ここで, $g$が全射であることから,
                \[
                    \iota^{\ast}(\mathfrak{p}_0) = g(f^\ast(\mathfrak{p}_0)) = g(g^\ast(\mathfrak{p}))= \mathfrak{p}
                \]
                となるので, $\iota^\ast$は全射となる.
            \end{description}
            \item \begin{description}
                \color{red}わかんね\color{black}
            \end{description}
        \end{enumerate}
    \end{problem}

    \begin{problem}
        5.10と3.18より, すぐに従う.
    \end{problem}

    \begin{problem}
        $a \in A$に対して, $f(X) = \prod_{\sigma \in G}(X-\sigma(a))$とすれば, $1 \in G$なので,
        $f(a) = 0$である.
        また, $f(X)$の係数は$\{\sigma(a)\}_{\sigma \in G}$の基本対称式で表せるので,
        $f \in A^G[X]$となるので, $A$は$A^G$上整である.

        次に, $G$の$S^{-1}A$への作用を$\sigma \in G$と$a/s \in S^{-1}A$に対して,
        $\sigma \cdot (a/s) = \sigma(a)/\sigma(s)$と定める.
        今, $\sigma(S) \subseteq S$を仮定しているので,
        この作用はwell-definedである.
        このとき,
        \[
            \phi: (S^{G})^{-1}A^{G} \ni a/s \longrightarrow a/s \in (S^{-1}A)^G
        \]
        と定める.
        $a/s = b/t \in (S^G)^{-1}A^G$とすれば,
        ある$u \in S^G$が存在して, $u(at-bs) = 0$となるが,
        このとき, 特に$u \in S^G \subseteq S$なので, $a/s = b/t \in (S^{-1}A)^G$が成り立つ.
        ゆえに, この写像はwell-definedである.
        次に$\phi$の逆写像を
        \[
            \psi: (S^{-1}A)^G \ni a/s \longrightarrow b/t \in (S^G)^{-1}A^G
        \]
        と定めれば, $a/s = b/t \in (S^{-1}A)^G$のとき,
        ある$u \in S$が存在して, $u(at-bs) = 0$となるが,
        $u_0 = \prod_{\sigma \in G} \sigma(u) \in S^{G}$について,
        $u_0(at-bs) = 0$となるので, $a/s = b/t \in (S^{G})^{-1}A^G$が成り立つ.
        ゆえに, この写像もwell-definedである.
        $\phi, \psi$は明らかに環の射であって, 互いに逆写像をなすので,
        $(S^{-1}A)^G \cong (S^G)^{-1}A^G$が成り立つ.
    \end{problem}

    \begin{problem}
        $\mathfrak{q}_1, \mathfrak{q}_2 \in P$とする.
        $x \in \mathfrak{q}_1$について,
        \[
            \prod_{\sigma \in G}\sigma(x) \in \mathfrak{q}_1 \cap A^G = \mathfrak{p} \subseteq \mathfrak{q}_2
        \]
        となるので,
        ある$\sigma \in G$が存在して, $\sigma(x) \in \mathfrak{q}_2$が成り立つ.
        つまり,
        \[
            \mathfrak{q}_1 \subseteq \bigcup_{\sigma \in G} \sigma(\mathfrak{q}_2)
        \]
        となる.
        ここで, (1.11)より, ある$\sigma \in G$が存在して,
        $\mathfrak{q}_1 \subseteq \sigma(\mathfrak{q}_2)$となる.
        今, $\sigma$が全単射であることと, $\mathfrak{p} \subseteq A^G$であることから,
        \[
            \mathfrak{p} = \sigma(\mathfrak{p}) = \sigma(\mathfrak{q}_2 \cap A^G) = \sigma(\mathfrak{q}_2) \cap A^G
        \]
        となるので, $\sigma(\mathfrak{q}_2)$の$A^G$への縮約は$\mathfrak{p}$である.
        これと, $\mathfrak{q}_1 \subseteq \sigma(\mathfrak{q}_2)$より,
        (5.9)を使えば, $\mathfrak{q}_1 = \sigma(\mathfrak{q}_2)$
        となる.
        このとき, $\mathfrak{q}_1, \mathfrak{q}_2 \in P$は任意にとっているので,
        $G$は$P$状に推移的に作用し,
        特に$G$は有限集合なので, $P$は有限集合である.
    \end{problem}

    \begin{problem}
        $\sigma \in G$を任意にとる.
        $x \in \sigma(B)$とすれば, ある$x_0 \in B$が存在して, $\sigma(x_0) = x$となる.
        ここで, $x_0 \in B  = \overline{A}^L$なので,
        ある$a_i \in A$が存在して,
        \[
            x_0^n + a_1 x_0^{n-1} + \cdots + a_n = 0
        \]
        となる.
        ゆえに,
        \[
            \sigma(x^n + a_1 x^{n-1} + \cdots + a_n) = 0
        \]
        となるが, $\sigma$は特に単射なので,
        \[
            x^n + a_1 x^{n-1} + \cdots + a_n = 0
        \]
        が成り立つ.
        これは, $x \in \sigma(B) \subseteq L$が$A$上整であることを意味するので,
        $x \in B$となる.
        逆に,
        $x \in B$とすれば, $\sigma: L \to L$が全単射であることから,
        ある$x_0 \in L$が存在して, $\sigma(x_0) = x$となる.
        このとき,
        \[
            \sigma(x_0)^n + a_1 \sigma(x_0)^{n-1} + \cdots + a_n = 0
        \]
        となるので, $\sigma$の単射性から,
        \[
            x^n_0 + a_1 x^{n-1}_0 + \cdots + a_n = 0
        \]
        となる.
        ゆえに, $x_0 \in \overline{A}^L = B$となる.
        このとき, $x = \sigma(x_0) \in \sigma(B)$となるので, $\sigma(B) = B$が成り立つ.

        次に$A = B^G$であることを示す.
        $G = \Gal(L/K)$なので, $A \subseteq B^G$はすぐに従う.
        $x \in B^G \subseteq L^G = K$であって,
        $x \in B^G \subseteq B$なので, $x$は$A$上整である.
        また, 特に$x \in K$であって, $A$は整閉なので, $x \in A$が成り立つ.
        ゆえに, $B^G \subseteq A$となり, $B^G = A$が成り立つ.
    \end{problem}

    \begin{problem}
        任意の代数拡大$L/K$について,
        ある中間体$M$が存在して,
        $L/M$は純分離拡大, $M/K$は拡大になる.
        ゆえに, 分離拡大の場合と純非分離拡大の場合について示されれば,
        $M$における$A$の整閉包を$B$, $L/M$における$B$の整閉包を$C$として,
        \[
            \Spec{C} \longrightarrow \Spec{B} \longrightarrow \Spec{A}
        \]
        は有限なファイバーをもつ射の合成なので, 有限なファイバーをもつ.
        したがって, 分離拡大の場合と純非分離拡大の場合について示す.

        \begin{enumerate}
            \item 分離拡大の場合,
            \color{red}
            $L$が$K$上分離的な場合, $L$の正規閉包を$N$とすれば,
            $N/K$は分離的な有限次正規拡大である.
            \color{black}
            $N$における$B$の整閉包を$C$として, $G = \Gal(N/K)$とすれば,
            5.14より, $A = C^G$が成り立つ.
            また, 5.13より,
            \[
                f^\ast: \Spec{C} \longrightarrow \Spec{C^G} = \Spec{A}
            \]
            は有限なファイバーをもつ.
            ここで, $g^\ast: \Spec{C} \to \Spec{B}$, $h^\ast: \Spec{B} \to \Spec{A}$
            とする.
            $B/A$は整拡大であって, $B \subseteq C$なので, 整拡大の推移性から,
            $C/B$は整拡大である.
            ゆえに,
            (5.10)より, $g^\ast$は全射であり,
            任意の$\mathfrak{p} \in \Spec{A}$について,
            \[
                {f^{\ast}}^{-1}(\mathfrak{p}) = (h^\ast \circ g^\ast)^{-1}(\mathfrak{p}) = {g^\ast}^{-1}({h^\ast}^{-1}(\mathfrak{p}))
            \]
            が成り立つ.
            また, $g^\ast$は全射なので, $g^\ast({f^\ast}^{-1}(\mathfrak{p})) = h^\ast(\mathfrak{p})$
            であり, ${f^\ast}^{-1}(\mathfrak{p})$は有限なので, ${h^\ast}^{-1}(\mathfrak{p})$
            も有限である.
            \item
            \color{red}
            わかんね。
            \color{black}
        \end{enumerate}
    \end{problem}

    \begin{lemma}\label{lem: 無限体係数の多項式の零元}
        $k$が無限体のとき, $f \in k[X_1, \dots, X_n]$について,　任意の$a \in k^n$について, $f(a) = 0$であることと, $f = 0$は同値.
    \end{lemma}
    \begin{proof}
        $f = 0$なら任意の$a \in k^n$について, $f(a) = 0$であることは自明なので, 逆を示す.

        $n = 1$のとき, 任意の$a \in k$に対して, $f(a) = 0$である.
        このとき, $k$が無限体であることから, $f$は無限個の根をもつことになる.
        しかし, $\deg{f} > 0$なら$f$は高々$\deg{f}$個の根しかもたないことから,
        $\deg{f} = 0$となり, $f = 0$が従う.

        次に, $n-1$以下で主張が成り立つとし,
        \[
            f(X_1, \dots, X_n) = \sum_{i = 0}^m f_i(X_1, \dots, X_{n-1})X_n^{i-1}
        \]
        とおく.
        $a_1, \dots, a_{n-1} \in k$を任意にとり,
        \[
            g(X_n) := f(a_1, \dots, a_{n-1}, X_n)
        \]
        とすれば, $g \in k[X_n]$である.
        しかし, 任意の$a_n \in k$について, $g(a_n) = 0$となるので,
        仮定より$g = 0$である.
        ゆえに, 任意の$i$について, $f_i(a_1, \dots, a_{n-1}) = 0$となる.
        これは任意の$a_i \in k$について成り立つので, 仮定より$f_i = 0 \in k[X_1, \dots, X_{n-1}]$.
        したがって, $f = 0 \in k[X_1, \dots, X_n]$が成り立つ.
    \end{proof}

    \begin{problem}
        \begin{enumerate}
            \item $k$が無限体の場合,
            $x_1, \dots, x_n \in A$を$k$代数として$A$を生成する元とする.
            必要なら添え字をとりなおすことにより,
            $\set{x_1, \dots, x_r}$が$k$上代数独立であり, $x_{r+1}, \dots, x_n \in k[x_1, \dots, x_r]$上代数的としてよい.
            $n-1$以下で主張が成り立つと仮定して, $n$の場合に証明する.

            $n = r$のときには, $y_i = x_i$とすることにより, 主張は明らかに成り立つので,
            $r < n$としてよい.
            このとき, $x_n$が$k[x_1, \dots, x_{n-1}]$上代数的なので,
            ある$f \in k[X_1, \dots, X_n] \setminus \set{0}$が存在して,
            $f(x_1, \dots, x_n) = 0$となる.
            \[
                f(X) = \sum_{k = 0}^m f_i(X)
            \]
            とおく.
            ただし, $f_i$は$i$次の斉次多項式であって,
            $f_m(X) \neq 0$を満たす.
            \cref{lem: 無限体係数の多項式の零元}より, ある$\lambda = (\lambda_1, \dots, \lambda_{n-1}, 1) \in k^n$が存在して,
            $f_m(\lambda) \neq 0$が成り立つ.
            実際,
            \[
                f_m(X) = \sum_{i = 0}^m g_{i}(X_1, \dots, X_{n-1})X_n^m
            \]
            とおけば,
            \[
                g(X_1, \dots, X_{n-1}) := f_m(X_1, \dots, X_{n-1}, 1) = \sum_{i = 0}^l g_i(X_1, \dots, X_{n-1})
            \]
            が成り立つ.
            ここで, $g = 0$とおく.
            このとき, $g_i$は次数$m-i$の斉次多項式なので, $g = 0$より, $g_i = 0$となり,
            $f_m \neq 0$に反する.
            したがって, $g \neq 0 \in k[X_1, \dots, X_{n-1}]$であり,
            \cref{lem: 無限体係数の多項式の零元}を使えば, ある$\lambda_1, \dots, \lambda_{n-1} \in k$が存在して,
            \[
                f_m(\lambda_1, \dots, \lambda_{n-1}, 1) = g(\lambda_1, \dots, \lambda_{n-1}) \neq 0
            \]
            が成り立つ.

            $1 \leq i \leq n-1$に対して, $x'_i = x_i - \lambda_i x_n$とおく.
            このとき, $s = f_m(\lambda_1, \dots, \lambda_{n-1}, 1) \neq 0$とすれば,
            $s$は$f(x_1' + \lambda_1x_n, x_{n-1}' + \lambda_{n-1}x_n, x_n)$における
            $x_n^m$の係数である.
            したがって,
            $x_n$はモニック多項式
            \[
                s^{-1}f(x_1' + \lambda_1X_n,x_{n-1}' + \lambda_{n-1}X_n, X_n) \in k[x'_1, \dots, x'_{n-1}][X_n]
            \]
            の根である.
            以上より, $x_n$は$A' := k[x'_1, \dots, x'_{n-1}]$上整.
            さらに, $A$における$A'$の整閉包を$C$とすれば,
            任意の$1 \leq i \leq n-1$について,
            $x_i' = x_i - \lambda_ix_n \in C$かつ$x_n \in C$であって, (5.3)より, $C$は環なので,
            $x_i \in C$となる.
            ゆえに, $A = C$となり, $A$は$A'$上整である.
            最後に, $A'$は$n-1$個の元で生成される$k$-代数なので, 帰納法の仮定より,
            ある代数独立な集合$\set{y_1, \dots, y_r} \subseteq A'$が存在して,
            $A'$は$k[y_1, \dots, y_r]$上整である.
            したがって, 整拡大の推移性から, $A$は$k[y_1, \dots, y_r]$上整である.
            \item $k$を任意の体とする.

            $d > \deg{f}$とする.
            $x_i' = x_i - x_n^{d^i}$とおく.
            このとき, $\alpha, \beta \in \mathbb{N}^n$を多重指数とすれば,
            $\alpha \neq \beta$のとき, $x^\alpha$と$x^\beta$における$x_n$の次数は異なることに注意する.
            ここで, $f(X) = \prod_{\alpha} c_{\alpha} X^\alpha$とすれば,
            \[
                f(x_1' + x^{d^1}, \dots, x_{n-1}' + x^{d^{n-1}}, x_n) = \prod_{\alpha} c_\alpha x_n^{\alpha_n} \prod_{i = 1}^{n-1} (x_i' + x_n^{d^i})^{\alpha_i}
            \]
            が成り立つ.
            各$\alpha$について, $x_n$の次数は異なるので, その次数が最大になるような$\alpha$を$\alpha_0$とおく.
            このとき,
            \[
                \alpha_0^{-1}f(x_1' + X^{d^1}_n, \cdots, x_{n-1}' + X_n^{d^{n-1}}, X_n) \in k[x'_1,\dots,x'_{n-1}, X_n]
            \]
            は$x_n$を根に持つモニック多項式である.
            したがって, $x_n$は$A' := k[x_1', \dots, x_{n-1}']$上整である.
            さらに, $A$における$A'$の整閉包を$C$とすれば,
            任意の$1 \leq i \leq n-1$について,
            $x_i' = x_i - x_n^{d^i} \in C$かつ$x_n \in C$であって, (5.3)より, $C$は環なので,
            $x_i \in C$となる.
            ゆえに, $A = C$となり, $A$は$A'$上整である.
            最後に, $A'$は$n-1$個の元で生成される$k$-代数なので, 帰納法の仮定より,
            ある代数独立な集合$\set{y_1, \dots, y_r} \subseteq A'$が存在して,
            $A'$は$k[y_1, \dots, y_r]$上整である.
            したがって, 整拡大の推移性から, $A$は$k[y_1, \dots, y_r]$上整である.
        \end{enumerate}
        \color{red}
        幾何学的解釈についてはわからん。
        \color{black}
    \end{problem}
\end{document}
